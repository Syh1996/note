(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{380:function(e,t,r){var content=r(429);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("d52dc7ee",content,!0,{sourceMap:!1})},428:function(e,t,r){"use strict";var n=r(380);r.n(n).a},429:function(e,t,r){(t=r(14)(!1)).push([e.i,".handle-group[data-v-490456f8]{text-align:right;margin-top:20px}",""]),e.exports=t},448:function(e,t,r){"use strict";r.r(t);r(40),r(39);var n=r(2),o=r(97),l=r(140),c={name:"addVideo",middleware:"index",asyncData:function(){return Object(n.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(l.m);case 2:return t=e.sent,r=t.data.list,e.abrupt("return",{tableData:r});case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){this.reloadList()},data:function(){return{form:{name:"",url:"",target:""},dialogFormVisible:!1,tableData:[]}},methods:{save:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,m,f,d,code,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.form,n=r.name,c=r.url,m=r.target,n){t.next=4;break}return e.$message.warning("视频名称不能为空"),t.abrupt("return");case 4:if(c){t.next=7;break}return e.$$message.warning("视频地址不能为空"),t.abrupt("return");case 7:return t.next=9,Object(o.c)(l.b,{title:n,url:c,target:m});case 9:f=t.sent,d=f.data,code=d.code,v=d.msg,200===code?(e.$message.success(v),e.clear(),e.dialogFormVisible=!1,e.reloadList()):e.$message.error(v);case 12:case"end":return t.stop()}}),t)})))()},clear:function(){this.form={name:"",url:"",target:""}},reloadList:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)(l.m);case 2:data=t.sent,r=data.data.list,e.tableData=r;case 5:case"end":return t.stop()}}),t)})))()},del:function(e){var t=this,r=e.id;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n.a)(regeneratorRuntime.mark((function e(){var n,c,code,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.c)(l.h,{id:r});case 2:n=e.sent,c=n.data,code=c.code,m=c.msg,200===code?(t.$message.success(m),t.reloadList()):t.$message.error(m);case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},m=(r(428),r(22)),component=Object(m.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"video-manage"},[r("BrandNav",{attrs:{list:["首页","行走路途管理"]}}),e._v(" "),r("div",{staticClass:"handle-group"},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.clear(),e.dialogFormVisible=!0}}},[e._v("新增")])],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"title",label:"视频名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"url",label:"视频地址"}}),e._v(" "),r("el-table-column",{attrs:{label:"跳转地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{attrs:{href:t.row.target,target:"_blank"}},[e._v(e._s(t.row.target))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(r){return e.del(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"新增视频",visible:e.dialogFormVisible,width:"700px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"视频名称"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"视频地址"}},[r("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"跳转地址"}},[r("el-input",{model:{value:e.form.target,callback:function(t){e.$set(e.form,"target",t)},expression:"form.target"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"490456f8",null);t.default=component.exports;installComponents(component,{BrandNav:r(141).default})}}]);